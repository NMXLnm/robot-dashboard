<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Êú∫Âô®‰∫∫ÁÆ°ÁêÜÈù¢Êùø</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body,#app{height:100%}
    body{
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Helvetica Neue', Arial;
      background: #0f172a;
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* ËÉåÊôØÈÉ®ÂàÜ */
    .bg-wrap{
      position:fixed;inset:0;overflow:hidden;z-index:-1;
    }
    .blob{
      position:absolute;
      width:60vmax;height:60vmax;
      top:50%;left:50%;transform:translate(-50%,-50%);
      filter: blur(80px) saturate(120%);
      opacity:0.9;
      mix-blend-mode:screen;
      border-radius:50%;
      will-change:transform,opacity;
      animation-timing-function: linear;
    }
    .b1{
      background: radial-gradient(circle at 30% 30%, rgba(255,120,200,0.95) 0%, rgba(145,80,255,0.6) 40%, rgba(80,180,255,0.18) 100%);
      animation: float1 12s infinite;
    }
    .b2{
      background: radial-gradient(circle at 70% 40%, rgba(0,240,255,0.85) 0%, rgba(90,120,255,0.55) 35%, rgba(200,80,255,0.12) 100%);
      animation: float2 15s infinite;
      opacity:0.85;
      transform:translate(-55%,-55%) scale(0.9);
    }
    .b3{
      background: radial-gradient(circle at 40% 70%, rgba(255,200,90,0.9) 0%, rgba(255,120,120,0.5) 30%, rgba(180,80,255,0.08) 100%);
      animation: float3 18s infinite;
      opacity:0.7;
      transform:translate(-45%,-45%) scale(1.05);
    }
    @keyframes float1{0%{transform:translate(-52%,-48%) translateX(-10vw) translateY(0) scale(1)}25%{transform:translate(-50%,-50%) translateX(8vw) translateY(-6vh) scale(1.03)}50%{transform:translate(-48%,-52%) translateX(0) translateY(10vh) scale(0.98)}75%{transform:translate(-50%,-50%) translateX(-6vw) translateY(-4vh) scale(1.02)}100%{transform:translate(-52%,-48%) translateX(-10vw) translateY(0) scale(1)}}
    @keyframes float2{0%{transform:translate(-55%,-55%) translateX(0) translateY(-6vh) scale(0.9)}20%{transform:translate(-53%,-57%) translateX(6vw) translateY(10vh) scale(0.94)}50%{transform:translate(-52%,-53%) translateX(-8vw) translateY(6vh) scale(0.88)}80%{transform:translate(-54%,-56%) translateX(4vw) translateY(-8vh) scale(0.93)}100%{transform:translate(-55%,-55%) translateX(0) translateY(-6vh) scale(0.9)}}
    @keyframes float3{0%{transform:translate(-45%,-45%) translateX(6vw) translateY(0) scale(1.05)}33%{transform:translate(-48%,-48%) translateX(-12vw) translateY(6vh) scale(1.03)}66%{transform:translate(-43%,-47%) translateX(8vw) translateY(-10vh) scale(1.07)}100%{transform:translate(-45%,-45%) translateX(6vw) translateY(0) scale(1.05)}}
    .noise{pointer-events:none;position:fixed;inset:0;mix-blend-mode:overlay;opacity:0.03;background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><defs><filter id="n"><feTurbulence baseFrequency="0.8" numOctaves="1" stitchTiles="stitch"/></filter></defs><rect width="120" height="120" fill="white" filter="url(%23n)"/></svg>');}

    /* ÂâçÊôØÔºöÊú∫Âô®‰∫∫Èù¢Êùø */
    header {
      padding: 20px;
      text-align: center;
      font-size: 2em;
      font-weight: bold;
      background: rgba(0,0,0,0.3);
    }
    #searchInput {
      width: 50%;
      margin: 20px auto;
      display: block;
      padding: 10px;
      border-radius: 8px;
      border: none;
      font-size: 1em;
      text-align: center;
    }
    .panel {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
      padding: 20px;
    }
    .robot-card {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 16px;
      padding: 15px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      backdrop-filter: blur(12px) saturate(150%);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .robot-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }
    .robot-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      margin-bottom: 10px;
      border: 2px solid rgba(255,255,255,0.4);
      object-fit: cover;
    }
    .robot-name {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .status-online {color: #4caf50;font-weight:bold;}
    .status-offline {color: #f44336;font-weight:bold;}
    .status-unknown {color: #ff9800;font-weight:bold;}
    .mood-tag {
      display:inline-block;
      margin:6px 0;
      padding:4px 10px;
      border-radius:999px;
      font-size:0.9em;
      color:#fff;
    }
    .ÂºÄÂøÉ { background-color:#4caf50; }
    .‰∏çÂºÄÂøÉ { background-color:#f44336; }
    .ÂøÉÂä® { background-color:#e91e63; }
    .Â§±Êúõ { background-color:#9c27b0; }
    .battery-bar {
      height:6px;
      background:#333;
      border-radius:3px;
      margin-top:6px;
      overflow:hidden;
    }
    .battery-fill {height:100%;}
    .battery-low {background:#f44336;}
    .battery-mid {background:#ff9800;}
    .battery-high {background:#4caf50;}
    .battery-text {font-size:0.8em;margin-top:4px;opacity:0.8;}
  </style>
</head>
<body>
  <div id="app">
    <!-- ËÉåÊôØ -->
    <div class="bg-wrap" aria-hidden="true">
      <div class="blob b1"></div>
      <div class="blob b2"></div>
      <div class="blob b3"></div>
      <div class="noise"></div>
    </div>

    <!-- ÂâçÊôØ -->
    <header>ü§ñ Êú∫Âô®‰∫∫ÁÆ°ÁêÜÈù¢Êùø</header>
    <input type="text" id="searchInput" placeholder="ÊêúÁ¥¢Êú∫Âô®‰∫∫ÂêçÂ≠ó...">
    <div class="panel" id="robotPanel"></div>
  </div>

  <script src="robots.js"></script>
  <script>
    // Âà§Êñ≠ÊòØÂê¶‰∏∫ÊâãÊú∫Á´Ø
    const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    if (isMobile) {
      document.querySelectorAll('.blob').forEach(b => b.style.filter = "blur(40px)");
      const b3 = document.querySelector('.b3');
      if (b3) b3.remove(); // ÁßªÂä®Á´ØÂéªÊéâÁ¨¨3‰∏™ blob
    }

    const robotPanel = document.getElementById('robotPanel');
    const searchInput = document.getElementById('searchInput');

    function getEffectiveStatus(robot){
      const now = new Date();
      const utc = now.getTime() + now.getTimezoneOffset()*60000;
      const bj = new Date(utc + 8*3600000); // Âåó‰∫¨Êó∂Èó¥
      const h = bj.getHours();
      return (h >= 10 && h <= 23) ? "Âú®Á∫ø" : "Á¶ªÁ∫ø";
    }

    function renderRobots(filter=''){
      robotPanel.innerHTML='';
      robots.filter(r=>r.name.includes(filter)).forEach(robot=>{
        const card=document.createElement('div');
        card.className='robot-card';

        const img=document.createElement('img');
        img.src=robot.avatar;
        img.className='robot-avatar';

        const name=document.createElement('div');
        name.className='robot-name';
        name.textContent=robot.name;

        const effectiveStatus=getEffectiveStatus(robot);
        const status=document.createElement('div');
        status.className=effectiveStatus==="Âú®Á∫ø"?"status-online":effectiveStatus==="Á¶ªÁ∫ø"?"status-offline":"status-unknown";
        status.textContent=effectiveStatus;

        const mood=document.createElement('div');
        mood.className='mood-tag '+robot.mood;
        mood.textContent=robot.mood;

        const batteryBar=document.createElement('div');
        batteryBar.className='battery-bar';
        const fill=document.createElement('div');
        fill.className='battery-fill '+
          (robot.battery<30?'battery-low':robot.battery<70?'battery-mid':'battery-high');
        fill.style.width=robot.battery+'%';
        batteryBar.appendChild(fill);

        const batteryText=document.createElement('div');
        batteryText.className='battery-text';
        batteryText.textContent='ÁîµÈáè: '+robot.battery+'%';

        card.appendChild(img);
        card.appendChild(name);
        card.appendChild(status);
        card.appendChild(mood);
        card.appendChild(batteryBar);
        card.appendChild(batteryText);

        robotPanel.appendChild(card);
      });
    }

    searchInput.addEventListener('input',()=>renderRobots(searchInput.value));
    setInterval(()=>renderRobots(searchInput.value),60*1000);
    renderRobots();
  </script>
</body>
</html>
